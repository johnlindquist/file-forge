{{> goal-header.md goal="Refactor the following code to improve readability and maintainability while preserving its behavior." }}

{{> instructions-tag.md instructions_content="- Simplify and restructure the code for clarity (e.g. break up complex functions, improve naming).  
- Do **not** change any functionality or introduce new bugs.  
- Ensure the output format is a unified diff or the full updated code with changes, so that modifications can be applied easily.  
- Do not include explanatory textâ€”only provide the refactored code or diff." }}

{{> task-tag.md task_content="Refactor this code to improve readability and maintainability while preserving the exact same behavior." }} 