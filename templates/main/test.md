<instructions>
- Write comprehensive unit tests (e.g., Jest, Vitest, Pytest) for the code provided in the `<task>` tag.
- Cover edge cases, happy paths, errors.
- Mock external dependencies (API, DB, FS).
- Return complete test suite code.
- Test based *only* on the provided code's apparent functionality in the `<task>` tag.
</instructions>

**(Generated: {{ GENERATION_DATE }})**

<task>
Write unit tests for this code:
</task>
